import{c as x,r as i,s as n,V as r,j as e,v as m,L as l}from"./index-Df9m1I_8.js";import{P as o}from"./plus-KoOOFxMC.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=x("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=x("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function y(){const[a,c]=i.useState([]),[h,u]=i.useState(!0);i.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:s,error:t}=await n.from("properties").select("*").order("created_at",{ascending:!1});if(t)throw t;c(s||[])}catch{r.error("Erro ao carregar imóveis")}finally{u(!1)}},f=async s=>{if(window.confirm("Tem certeza que deseja excluir este imóvel?"))try{const{error:t}=await n.from("properties").delete().eq("id",s);if(t)throw t;c(a.filter(j=>j.id!==s)),r.success("Imóvel excluído com sucesso")}catch{r.error("Erro ao excluir imóvel")}},d=s=>s.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return h?e.jsx("div",{className:"bg-white shadow-sm rounded-sm p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-neutral-600",children:"Carregando..."})})}):e.jsxs("div",{className:"bg-white shadow-md rounded-lg border border-secondary-dark/10 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-accent/5 rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"p-6 border-b border-secondary-dark/10 relative z-10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-2xl font-display font-semibold text-primary flex items-center",children:[e.jsx(m,{size:22,className:"text-accent mr-2.5"}),"Imóveis"]}),e.jsxs(l,{to:"/admin/properties/new",className:"inline-flex items-center px-5 py-2.5 rounded-lg shadow-sm text-sm font-medium text-white bg-accent hover:bg-accent-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent transition-all duration-300",children:[e.jsx(o,{size:18,className:"mr-1.5"}),"Adicionar Imóvel"]})]})}),a.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(m,{size:60,className:"mx-auto text-secondary-dark mb-6"}),e.jsx("p",{className:"text-primary/70 mb-4 font-medium",children:"Nenhum imóvel encontrado"}),e.jsxs(l,{to:"/admin/properties/new",className:"inline-flex items-center text-accent hover:text-accent-dark transition-colors font-medium",children:[e.jsx(o,{size:18,className:"mr-1.5"}),"Adicione seu primeiro imóvel"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-secondary-dark/10",children:[e.jsx("thead",{className:"bg-secondary",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-3.5 text-left text-xs font-medium text-primary/70 uppercase tracking-wider",children:"Imóvel"}),e.jsx("th",{scope:"col",className:"hidden md:table-cell px-6 py-3.5 text-left text-xs font-medium text-primary/70 uppercase tracking-wider",children:"Localização"}),e.jsx("th",{scope:"col",className:"hidden md:table-cell px-6 py-3.5 text-left text-xs font-medium text-primary/70 uppercase tracking-wider",children:"Preço"}),e.jsx("th",{scope:"col",className:"hidden md:table-cell px-6 py-3.5 text-left text-xs font-medium text-primary/70 uppercase tracking-wider",children:"Tipo"}),e.jsx("th",{scope:"col",className:"hidden md:table-cell px-6 py-3.5 text-left text-xs font-medium text-primary/70 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-3.5 text-right text-xs font-medium text-primary/70 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-secondary-dark/10",children:a.map(s=>e.jsxs("tr",{className:"hover:bg-secondary/40 transition-colors",children:[e.jsx("td",{className:"px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-12 sm:h-16 sm:w-16 flex-shrink-0",children:e.jsx("img",{className:"h-12 w-12 sm:h-16 sm:w-16 object-cover rounded-lg shadow-sm",src:s.image,alt:s.title})}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-primary",children:s.title}),e.jsxs("div",{className:"text-xs sm:text-sm text-primary/60",children:[s.bedrooms," quartos • ",s.bathrooms," banheiros • ",s.area,"m²"]}),e.jsxs("div",{className:"md:hidden mt-1",children:[e.jsx("div",{className:"text-xs text-accent font-medium",children:d(s.price)}),e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium capitalize mt-1
                            ${s.status==="available"?"bg-green-100 text-green-800":""}
                            ${s.status==="sold"?"bg-red-100 text-red-800":""}
                            ${s.status==="pending"?"bg-yellow-100 text-yellow-800":""}
                          `,children:[s.status==="available"?"Disponível":"",s.status==="sold"?"Vendido":"",s.status==="pending"?"Reservado":""]})]})]})]})}),e.jsx("td",{className:"hidden md:table-cell px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-primary/80",children:s.location})}),e.jsx("td",{className:"hidden md:table-cell px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-accent font-medium",children:d(s.price)})}),e.jsx("td",{className:"hidden md:table-cell px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-primary/80",children:s.property_type})}),e.jsx("td",{className:"hidden md:table-cell px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize
                      ${s.status==="available"?"bg-green-100 text-green-800":""}
                      ${s.status==="sold"?"bg-red-100 text-red-800":""}
                      ${s.status==="pending"?"bg-yellow-100 text-yellow-800":""}
                    `,children:[s.status==="available"?"Disponível":"",s.status==="sold"?"Vendido":"",s.status==="pending"?"Reservado":""]})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(l,{to:`/admin/properties/${s.id}`,className:"p-2 text-primary/60 hover:text-accent bg-secondary rounded-lg transition-all duration-300 hover:shadow-sm",title:"Editar",children:e.jsx(v,{size:18})}),e.jsx("button",{onClick:()=>f(s.id),className:"p-2 text-primary/60 hover:text-red-600 bg-secondary rounded-lg transition-all duration-300 hover:shadow-sm",title:"Excluir",children:e.jsx(g,{size:18})})]})})]},s.id))})]})})]})}export{y as default};
